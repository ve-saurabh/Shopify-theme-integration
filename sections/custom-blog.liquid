{%- if section.settings.blog != blank -%}
  <section class="cwr-blog">
    <div class="container">
      <div class="sec-heading">
        {%- if section.settings.main_heading != blank -%}
          <h2 class="custom-heading-md">{{ section.settings.main_heading }}</h2>
        {%- endif -%}
        {%- if section.settings.sub_heading != blank -%}
          <h4 class="custom-heading-sm">{{ section.settings.sub_heading }}</h4>
        {%- endif -%}
      </div>
      <div class="cwr-blog__box-wrap js-blog-slider">
        {%- assign selected_blog = blogs[section.settings.blog].articles -%}
        {%- for blog in selected_blog -%}
          <div class="cwr-blog__box">
            <div class="cwr-blog__img">
              <img
                data-src="{{ blog.image | image_url }}"
                alt="blog-img"
                class="img-fluid lazyload"
                width="402"
                height="446">
            </div>
            <div class="cwr-blog__content">
              <h4>{{ blog.title }}</h4>
              <p>{{ blog.content }}</p>
              {%- if blog.url != blank -%}
                <a href="{{ blog.url }}" class="custom-btn">
                  {%- if section.settings.btn_text != blank -%}
                    <span>{{ section.settings.btn_text }}<svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="15"
                        viewBox="0 0 18 15"
                        fill="none">
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M11.3429 0.292893L17.7069 6.65685C18.0974 7.04738 18.0974 7.68054 17.7069 8.07107L11.3429 14.435C10.9524 14.8256 10.3192 14.8256 9.92869 14.435C9.53816 14.0445 9.53816 13.4113 9.92869 13.0208L14.5855 8.36396H0.999756C0.447471 8.36396 -0.000244141 7.91625 -0.000244141 7.36396C-0.000244141 6.81168 0.447471 6.36396 0.999756 6.36396H14.5855L9.92869 1.70711C9.53816 1.31658 9.53816 0.683418 9.92869 0.292893C10.3192 -0.0976311 10.9524 -0.0976311 11.3429 0.292893Z"
                          fill="black" />
                      </svg>
                    </span>
                  {%- endif -%}
                </a>
              {%- endif -%}
            </div>
          </div>
        {%- endfor -%}
      </div>
    </div>
  </section>
{%- endif -%}

{% schema %}
  {
    "name": "Custom Blog",
    "settings": [
      {
        "type": "text",
        "label": "Main Heading",
        "id": "main_heading",
        "default": "Discover our latest Blogs"
      }, {
        "type": "text",
        "label": "Sub Heading",
        "id": "sub_heading",
        "default": "Scelerisque sit amet posuere quis ultricies. Eget sollicitudin blandit pretium"
      }, {
        "type": "blog",
        "label": "Select Blog",
        "id": "blog"
      }, {
        "type": "text",
        "label": "Button Text",
        "id": "btn_text",
        "default": "Read More"
      }
    ],
    "presets": [
      {
        "name": "Custom Blog",
        "settings": {
          "main_heading": "Discover our latest blogs",
          "sub_heading": "Scelerisque sit amet posuere quis ultricies. Eget sollicitudin blandit pretium"
        }
      }
    ]
  }
{% endschema %}